<view template="dashboard.html">

  <!--  chrome and nav  -->
  <label>Donna Dashboard</label>
  <module name="AccountBar" layoutPanel="appHeader"/>
  <module name="AppBar" layoutPanel="navigationHeader"/>
  <module name="Message" layoutPanel="messaging">
    <param name="filter">*</param>
    <param name="clearOnJobDispatch">False</param>
    <param name="maxSize">1</param>
  </module>

  <module name="HiddenSavedSearch" layoutPanel="panel_row1_col1" autoRun="True" group="Host Message Count (last 24 hours)">
    <param name="savedSearch">donna_message_count</param>
    <module name="StaticContentSample">
       <param name="text">Per-host count of messages of interest to Donna (as defined by matching eventtype=donna-report), over the last 24 hours.</param>
    </module>
    <module name="Paginator">
      <param name="count">10</param>
      <param name="maxPages">10</param>
      <param name="entityName">results</param>
      <module name="SimpleResultsTable">
        <param name="displayRowNumbers">False</param>
        <param name="drilldown">row</param>
        <param name="entityName">results</param>
        <module name="HiddenSearch">
	  <param name="search">sourcetype=syslog eventtype=donna-report</param>
          <param name="earliest">-24h</param>
             <module name="ConvertToIntention">
               <param name="intention">
                 <param name="name">addterm</param>
                 <param name="arg">
                   <param name="host">$click.value$</param>
                 </param>
               </param>
               <module name="ViewRedirector">
                 <param name="viewTarget">flashtimeline</param>
                 <param name="popup">True</param>
               </module>
             </module>
        </module>
      </module>
    </module>
  </module>
    <module name="HiddenSavedSearch" layoutPanel="panel_row1_col2" autoRun="True" group="Unusually loud">
    <param name="savedSearch">LoudHosts</param>
    <module name="StaticContentSample">
       <param name="text">Per-host total message count over the last 24 hours, sorted by difference from daily median over the last week (hosts that are saying more than usual are listed first).  Click a column name to sort by that column.  Click on a row to see the messages for that host.</param>
    </module>
    <module name="Paginator">
      <param name="count">10</param>
      <param name="maxPages">10</param>
      <param name="entityName">results</param>
      <module name="SimpleResultsTable">
        <param name="displayRowNumbers">False</param>
        <param name="drilldown">row</param>
        <param name="entityName">results</param>
        <module name="HiddenSearch">
          <param name="search">sourcetype=syslog</param>
          <param name="earliest">-24h</param>
             <module name="ConvertToIntention">
               <param name="intention">
                 <param name="name">addterm</param>
                 <param name="arg">
                   <param name="host">$click.value$</param>
                 </param>
               </param>
               <module name="ViewRedirector">
                 <param name="viewTarget">flashtimeline</param>
                 <param name="popup">True</param>
               </module>
             </module>
        </module>
      </module>
    </module>
  </module>

  <module name="HiddenSavedSearch" layoutPanel="panel_row2_col1" autoRun="True" group="Unusually silent">
    <param name="savedSearch">QuietHosts</param>
    <module name="StaticContentSample">
       <param name="text">Hosts that have been silent for 1 to 7 days (no results means there are no such hosts).  Click on a row to see the most recent messages for that host.</param>
    </module>
    <module name="Paginator">
      <param name="count">10</param>
      <param name="entityName">results</param>
      <param name="maxPages">10</param>
      <module name="SimpleResultsTable">
        <param name="displayRowNumbers">False</param>
        <param name="drilldown">row</param>
        <param name="entityName">results</param>
        <module name="HiddenSearch">
          <param name="search">sourcetype=syslog</param>
          <param name="earliest">-7d</param>
             <module name="ConvertToIntention">
               <param name="intention">
                 <param name="name">addterm</param>
                 <param name="arg">
                   <param name="host">$click.value$</param>
                 </param>
               </param>
               <module name="ViewRedirector">
                 <param name="viewTarget">flashtimeline</param>
                 <param name="popup">True</param>
               </module>
             </module>
        </module>
      </module>
    </module>
  </module>

</view>