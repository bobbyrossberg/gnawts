<view template="dashboard.html">

  <!--  chrome and nav  -->
  <label>Node Down Stats</label>
  <module name="AccountBar" layoutPanel="appHeader"/>
  <module name="AppBar" layoutPanel="navigationHeader"/>
  <module name="Message" layoutPanel="messaging">
    <param name="filter">*</param>
    <param name="clearOnJobDispatch">False</param>
    <param name="maxSize">1</param>
  </module>

  <module name="HiddenSavedSearch" layoutPanel="panel_row1_col1" autoRun="True" group="Per node (30 day window)">
    <param name="savedSearch">NodeDownsPerNode</param>
    <module name="StaticContentSample">
      <param name="text">Click on a row to see the down events for that node.</param>
    </module>
    <module name="Paginator">
      <param name="count">10</param>
      <param name="maxPages">10</param>
      <param name="entityName">results</param>
      <module name="SimpleResultsTable">
        <param name="displayRowNumbers">False</param>
        <param name="drilldown">row</param>
        <param name="entityName">results</param>
        <module name="HiddenSearch">
	  <param name="search">index=summary to=ERR</param>
          <param name="earliest">-30d</param>
             <module name="ConvertToIntention">
               <param name="intention">
                 <param name="name">addterm</param>
                 <param name="arg">
                   <param name="nids">$click.value$</param>
                 </param>
               </param>
               <module name="ViewRedirector">
                 <param name="viewTarget">flashtimeline</param>
                 <param name="popup">True</param>
               </module>
             </module>
        </module>
      </module>
    </module>
  </module>

<module name="HiddenSavedSearch" layoutPanel="panel_row2_col1" group="Per day (30 day window)" autoRun="True">
    <param name="savedSearch">NodeDownsPerDay</param>
    <module name="StaticContentSample">
      <param name="text">Click on a row to see the down events for that day.</param>
    </module>
   <module name="Paginator">
      <param name="count">30</param>
      <param name="maxPages">10</param>
      <param name="entityName">results</param>
      <module name="SimpleResultsTable">
        <param name="displayRowNumbers">False</param>
        <param name="drilldown">row</param>
        <param name="entityName">results</param>
        <module name="HiddenSearch">
	  <param name="search">index=summary to=ERR</param>
             <module name="ConvertToIntention">

               <param name="intention">
                 <param name="name">addterm</param>
                 <param name="arg">
                   <param name="now">$click.value$:0:0:0</param>
                 </param>
               </param>

              <module name="ConvertToIntention">
               <param name="intention">
                 <param name="name">addterm</param>
                 <param name="arg">
                   <param name="earliest">-0d</param>
                 </param>
               </param>
               <module name="ConvertToIntention">
                <param name="intention">
                 <param name="name">addterm</param>
                 <param name="arg">
                   <param name="latest">+1d</param>
                 </param>
                </param>

               <module name="ViewRedirector">
                 <param name="viewTarget">flashtimeline</param>
                 <param name="popup">True</param>
               </module>
              </module>
              </module>
             </module>
        </module>
      </module>
    </module>
  </module>
</view>